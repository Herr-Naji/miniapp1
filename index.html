<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Mini App</title>

<script src="https://telegram.org/js/telegram-web-app.js"></script>

<style>
:root {
    --bg: var(--tg-theme-bg-color, #ffffff);
    --text: var(--tg-theme-text-color, #000000);
    --hint: var(--tg-theme-hint-color, #888888);
    --card: var(--tg-theme-secondary-bg-color, #f2f2f2);
    --accent: var(--tg-theme-button-color, #3390ec);
}

* {
    box-sizing: border-box;
    font-family: -apple-system, BlinkMacSystemFont, sans-serif;
}

body {
    margin: 0;
    background: var(--bg);
    color: var(--text);
}

.app {
    min-height: 100vh;
    padding: 24px;
    display: flex;
    flex-direction: column;
    gap: 16px;
}

.card {
    background: var(--card);
    border-radius: 14px;
    padding: 16px;
}

.title {
    font-size: 20px;
    font-weight: 600;
}

.subtitle {
    font-size: 14px;
    color: var(--hint);
}

.user {
    margin-top: 8px;
    font-size: 15px;
}

.badge {
    display: inline-block;
    margin-top: 6px;
    padding: 4px 10px;
    border-radius: 20px;
    font-size: 12px;
    background: var(--accent);
    color: white;
}
</style>
</head>

<body>

<div class="app">
    <div class="card">
        <div class="title">Telegram Mini App</div>
        <div class="subtitle">Ù†Ø³Ø®Ù‡ Ù†Ù…Ø§ÛŒØ´ÛŒ â€“ ÙÙ‚Ø· Ù†Ù…Ø§ÛŒØ´ Ù…Ø­ØªÙˆØ§</div>
    </div>

    <div class="card">
        <div class="title">Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø´Ù…Ø§</div>
        <div class="user" id="userInfo">Ø¯Ø± Ø­Ø§Ù„ Ø¯Ø±ÛŒØ§ÙØª...</div>
        <span class="badge" id="themeInfo"></span>
    </div>

    <div class="card">
        <div class="subtitle">
            âœ… Ø¨Ø¯ÙˆÙ† Ø¯ÛŒØªØ§Ø¨ÛŒØ³<br>
            âœ… Ø¨Ø¯ÙˆÙ† Ø°Ø®ÛŒØ±Ù‡ Ø§Ø·Ù„Ø§Ø¹Ø§Øª<br>
            âœ… Ø¨Ø¯ÙˆÙ† Ù„Ø§Ú¯ÛŒÙ†<br>
            âœ… ÙÙ‚Ø· Ù†Ù…Ø§ÛŒØ´ÛŒ
        </div>
    </div>
</div>

<script>
const tg = window.Telegram.WebApp;
tg.ready();
tg.expand();

const user = tg.initDataUnsafe?.user;

const userInfoEl = document.getElementById("userInfo");
const themeInfoEl = document.getElementById("themeInfo");

if (user) {
    userInfoEl.innerText =
        "ğŸ‘¤ " + user.first_name +
        (user.username ? " (@" + user.username + ")" : "") +
        "\nğŸ†” ID: " + user.id;
} else {
    userInfoEl.innerText = "Ø§ÛŒÙ† ØµÙØ­Ù‡ Ø¨Ø§ÛŒØ¯ Ø¯Ø§Ø®Ù„ ØªÙ„Ú¯Ø±Ø§Ù… Ø¨Ø§Ø² Ø´ÙˆØ¯";
}

themeInfoEl.innerText = tg.colorScheme === "dark" ? "ğŸŒ™ Dark Mode" : "â˜€ï¸ Light Mode";

tg.onEvent("themeChanged", () => {
    document.body.style.background = tg.themeParams.bg_color;
});
</script>

</body>
</html>
